---
// Redirect /shop to the new dynamic shop route
export const prerender = false;

if (Astro.request.url.includes('?category=')) {
  // Extract category from URL and redirect to new format
  const url = new URL(Astro.request.url);
  const category = url.searchParams.get('category');
  return Astro.redirect(`/shop/${category}`);
} else {
  // Redirect to main shop page
  return Astro.redirect('/shop/all');
}
---

Loading...